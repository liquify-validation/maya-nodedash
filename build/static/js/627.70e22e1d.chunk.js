"use strict";(self.webpackChunkisomorphic=self.webpackChunkisomorphic||[]).push([[627],{47642:function(e,t,a){a.r(t),a.d(t,{default:function(){return qe}});a(5819);var s,i=a(87309),n=(a(99587),a(22961)),r=(a(78308),a(74931)),o=a(93433),l=a(15671),c=a(43144),d=a(97326),h=a(60136),u=a(27277),v=(a(58717),a(57862)),m=a(29439),x=a(1413),p=a(74165),g=a(15861),f=a(4942),j=(a(37531),a(25671)),y=a(72791),b=a(36269),C=a(29616),k=a(36165),N=a(95002),Z=(a(28353),a(7942)),w=a(77342),_=(a(14860),a(34633)),S=a(39045),D=a(76864),A=a(41938),B=a(11730),H=a(84531),L=a(47788),O=a(12507),M=a(56288),T=a(16891),R=a(56926),P=a(51562),F=a(56093),I=a(70441),V=a(72211),E=a(70491),U=a(71857),W=a(55259),z=a(44575),J=a(5753),q=a(61533),Y=a(76795),K=a(20618),X=a(52762),G=a(78031),$=a(67709),Q=a(92373),ee=a(94678),te=a(92407),ae=a(64094),se=a(85167),ie=a(25917),ne=a(42139),re=a(91225),oe=a(12549),le=a(5338),ce=a(47802),de=a(41843),he=a(4050),ue=a(91326),ve=a(20168),me=a(56293),xe=a(10623),pe=a(55919),ge=a(10552),fe=a(73637),je=a(74713),ye=a(99382),be=a(53411),Ce=a(75219),ke=a(57485),Ne=a(96971),Ze=a(80184),we=(0,Ze.jsxs)("svg",{style:{marginTop:5},focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"20",height:"20",viewBox:"0 0 30 30","aria-hidden":"true",className:"sfg",children:[(0,Ze.jsx)("path",{d:"M6,30H18a2.0023,2.0023,0,0,0,2-2V25H18v3H6V4H18V7h2V4a2.0023,2.0023,0,0,0-2-2H6A2.0023,2.0023,0,0,0,4,4V28A2.0023,2.0023,0,0,0,6,30Z"}),(0,Ze.jsx)("path",{d:"M20.586 20.586L24.172 17 10 17 10 15 24.172 15 20.586 11.414 22 10 28 16 22 22 20.586 20.586z"})]}),_e=j.Z.Header,Se=j.Z.Footer,De=j.Z.Content,Ae={cursor:"pointer",padding:"12px 15px",fontSize:15,color:"#ffffff",backgroundColor:"rgba(24, 34, 51, 0.4)",height:55,fontWeight:600},Be={minWidth:60,textAlign:"right",fontSize:14,padding:"10px 15px"},He={height:45},Le=(0,f.Z)({minWidth:25,padding:5,paddingLeft:10,paddingRight:10},"padding","10px 15px");function Oe(e,t){return(s=s||(0,g.Z)((0,p.Z)().mark((function e(t,a){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me(a),Te(t,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=function(e){return navigator&&navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):Promise.reject("The Clipboard API is not available.")};function Te(e,t){b.Z.info({title:(0,Ze.jsx)("h3",{children:"Success"}),content:(0,Ze.jsx)(N.h,{children:(0,Ze.jsxs)("p",{children:[(0,Ze.jsx)("strong",{children:"".concat(e," ")})," ","".concat(t)]})}),onOk:function(){},okText:"OK",cancelText:"Cancel",className:"feedback-modal"})}var Re=function(e){var t=e.sortBy,a=e.column,s=e.sortDirection;return t==a?(0,Ze.jsx)("img",{className:"sort-icon ".concat(s),src:ke.Z,width:12}):null},Pe=function(e){var t=e.address,a=e.ip_address,s=e.addToFav,i=e.whichHeart,n="https://thornode.ninerealms.com/thorchain/node/".concat(t),r="https://viewblock.io/thorchain/address/".concat(t);return(0,Ze.jsxs)("span",{style:{height:20,marginLeft:5},className:"icons-wrapper",children:[(0,Ze.jsx)(C.Z,{content:"Explore Node",trigger:"hover",children:(0,Ze.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:5},children:(0,Ze.jsxs)("svg",{focusable:"false",preserveAspectRatio:"xMidYMid meet",style:{verticalAlign:"middle"},width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ze.jsx)("path",{d:"M8.21201 6.12094C7.93815 5.79037 7.59622 5.52244 7.20939 5.33531C6.82257 5.14818 6.3999 5.04623 5.97006 5.03638C5.54022 5.02653 5.11326 5.10902 4.71815 5.27823C4.32303 5.44745 3.969 5.69944 3.68006 6.01712L1.96996 7.89664C1.45171 8.48651 1.18641 9.25576 1.23118 10.0387C1.27595 10.8217 1.62723 11.5557 2.20934 12.0827C2.79146 12.6097 3.55784 12.8875 4.34342 12.8562C5.12901 12.825 5.87094 12.4872 6.40942 11.9157L7.38417 10.8444",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M5.39864 7.52442C5.63159 7.8849 5.93954 8.19119 6.3016 8.42251C6.66366 8.65384 7.07135 8.80479 7.49704 8.86513C7.92272 8.92546 8.35644 8.89377 8.76876 8.77221C9.18109 8.65064 9.56238 8.44204 9.88678 8.16056L11.8067 6.49526C12.3909 5.97045 12.7451 5.23775 12.793 4.45497C12.8409 3.67219 12.5787 2.90196 12.0628 2.31017C11.5469 1.71838 10.8186 1.35238 10.0348 1.291C9.25103 1.22962 8.47442 1.47778 7.87227 1.98201L6.77194 2.93082",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),(0,Ze.jsx)(C.Z,{content:"Thornode API",trigger:"hover",children:(0,Ze.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:5},children:(0,Ze.jsxs)("svg",{focusable:"false",preserveAspectRatio:"xMidYMid meet",style:{verticalAlign:"middle"},width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ze.jsx)("path",{d:"M10.0209 5.95871L9.20835 6.77121L6.22919 3.79204L7.04169 2.97954C7.44794 2.57327 8.93752 1.8962 10.0209 2.97954C11.1042 4.06288 10.4271 5.55243 10.0209 5.95871Z",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M11.375 1.625L10.0208 2.97917",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M2.97917 7.04199L3.79167 6.22949L6.77083 9.20866L5.95833 10.0212C5.55208 10.4274 4.0625 11.1045 2.97917 10.0212C1.89583 8.93783 2.57292 7.44827 2.97917 7.04199Z",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M6.22919 8.66634L7.31252 7.58301",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M1.625 11.3747L2.97917 10.0205",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Ze.jsx)("path",{d:"M4.33331 6.77083L5.41665 5.6875",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),(0,Ze.jsx)(C.Z,{content:a,title:"IP Address",trigger:"hover",children:(0,Ze.jsx)("span",{style:{cursor:"pointer",marginLeft:5},onClick:function(){return Oe("IP Copied to clipboard:",a)},children:(0,Ze.jsxs)("svg",{focusable:"false",preserveAspectRatio:"xMidYMid meet",style:{verticalAlign:"middle"},width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ze.jsx)("path",{d:"M10.2916 1.08301H5.95831C5.81465 1.08301 5.67688 1.14008 5.5753 1.24166C5.47371 1.34324 5.41665 1.48102 5.41665 1.62467C5.41665 1.76833 5.47371 1.90611 5.5753 2.00769C5.67688 2.10927 5.81465 2.16634 5.95831 2.16634H10.2916C10.4353 2.16634 10.5731 2.22341 10.6747 2.32499C10.7762 2.42657 10.8333 2.56435 10.8333 2.70801V6.49967H1.62498C1.48132 6.49967 1.34355 6.55674 1.24196 6.65833C1.14038 6.75991 1.08331 6.89768 1.08331 7.04134V8.12467C1.08331 8.55565 1.25452 8.96898 1.55926 9.27372C1.86401 9.57847 2.27734 9.74967 2.70831 9.74967H4.33331V10.833H2.70831C2.56465 10.833 2.42688 10.8901 2.3253 10.9917C2.22371 11.0932 2.16665 11.231 2.16665 11.3747C2.16665 11.5183 2.22371 11.6561 2.3253 11.7577C2.42688 11.8593 2.56465 11.9163 2.70831 11.9163H10.2916C10.4353 11.9163 10.5731 11.8593 10.6747 11.7577C10.7762 11.6561 10.8333 11.5183 10.8333 11.3747C10.8333 11.231 10.7762 11.0932 10.6747 10.9917C10.5731 10.8901 10.4353 10.833 10.2916 10.833H8.66665V9.74967H10.2916C10.7226 9.74967 11.1359 9.57847 11.4407 9.27372C11.7454 8.96898 11.9166 8.55565 11.9166 8.12467V2.70801C11.9166 2.27703 11.7454 1.86371 11.4407 1.55896C11.1359 1.25421 10.7226 1.08301 10.2916 1.08301ZM7.58331 10.833H5.41665V9.74967H7.58331V10.833ZM10.8333 8.12467C10.8333 8.26833 10.7762 8.40611 10.6747 8.50769C10.5731 8.60927 10.4353 8.66634 10.2916 8.66634H2.70831C2.56465 8.66634 2.42688 8.60927 2.3253 8.50769C2.22371 8.40611 2.16665 8.26833 2.16665 8.12467V7.58301H10.8333V8.12467Z",fill:"currentColor"}),(0,Ze.jsx)("path",{d:"M3.9044 3.30042L2.78573 4.75234L1.66706 3.30042C1.36512 2.90853 1.36759 2.45798 1.57491 2.09161C1.78501 1.72031 2.21379 1.42871 2.78573 1.42871C3.35767 1.42871 3.78646 1.72031 3.99656 2.09161C4.20388 2.45798 4.20634 2.90853 3.9044 3.30042Z",stroke:"currentColor"}),(0,Ze.jsx)("path",{d:"M1.85712 5.57129H3.71426",stroke:"currentColor","stroke-linecap":"round"})]})})}),(0,Ze.jsx)("img",{alt:"#",onClick:function(){return s(t)},src:i(t),style:{cursor:"pointer",marginLeft:5,marginTop:2,width:15,height:15}})]})},Fe=function(e){var t,a,s,i,n,r,o,l,c,d,h,u=e.globalData,v=(e.animateBlockCount,e.state),m=(e.chartData,e.handleClickTotalBond),x=e.chartDataConfig,p=e.totalBondOptions,g=e.handlePopoverVisibility,f=e.handleMaxEffectiveStake,j=e.maxStakeOptions,y="",b="";if(null!==u&&void 0!==u&&u.churnTry&&"false"===(null===u||void 0===u?void 0:u.retiring))b="(CHURN) RETRY IN",y="".concat(null===u||void 0===u||null===(c=u.timeUntilRetry)||void 0===c?void 0:c.days,"d ").concat(null===u||void 0===u||null===(d=u.timeUntilRetry)||void 0===d?void 0:d.hours,"h ").concat(null===u||void 0===u||null===(h=u.timeUntilRetry)||void 0===h?void 0:h.minutes,"m");else if("true"===(null===u||void 0===u?void 0:u.retiring))b="(CHURN) CURRENTLY CHURNING",y="Churning";else{var k,N,w;b="(CHURN) TIME UNTIL",y="".concat(null===u||void 0===u||null===(k=u.timeUntilChurn)||void 0===k?void 0:k.days,"d ").concat(null===u||void 0===u||null===(N=u.timeUntilChurn)||void 0===N?void 0:N.hours,"h ").concat(null===u||void 0===u||null===(w=u.timeUntilChurn)||void 0===w?void 0:w.minutes,"m")}return(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:ie.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"CURRENT BLOCK"}),(0,Ze.jsx)("div",{className:"overview-item__value-value",children:parseInt(u.maxHeight).toLocaleString()})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:le.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsxs)("div",{className:"overview-item__value-title",children:[b," "]}),(0,Ze.jsx)("div",{className:"overview-item__value-value",children:y})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:oe.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"TOTAL BONDED VALUE"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["\u16b1",v.activeNodes.length>0?parseInt(v.activeNodes.map((function(e){return e.bond})).reduce((function(e,t){return e+t}))/1e8).toLocaleString():"0"]})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:ce.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"MARKET CAP"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["$",null===u||void 0===u||null===(t=u.coingecko)||void 0===t||null===(a=t.market_cap)||void 0===a?void 0:a.toLocaleString()]})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:ue.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"24 HR VOLUME"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["$",null===u||void 0===u||null===(s=u.coingecko)||void 0===s||null===(i=s.total_volume)||void 0===i?void 0:i.toLocaleString()]})]})]}),(0,Ze.jsx)(C.Z,{content:null!==x&&void 0!==x&&null!==(n=x.datasets)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.data&&x.datasets[0].data.length>0?(0,Ze.jsx)(Z.Z,{data:x,options:j},JSON.stringify(x)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Max Effective Stake Over Time",trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return g(e)},children:(0,Ze.jsxs)("div",{className:"overview-item",onClick:f,style:{cursor:"pointer"},children:[(0,Ze.jsx)("img",{alt:"#",src:Ne.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"MAX EFFECTIVE BOND"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["\u16b1",parseInt(u.maxEffectiveStake/1e8).toLocaleString()]})]})]})}),(0,Ze.jsx)(C.Z,{content:null!==x&&void 0!==x&&null!==(o=x.datasets)&&void 0!==o&&null!==(l=o[0])&&void 0!==l&&l.data&&x.datasets[0].data.length>0?(0,Ze.jsx)(Z.Z,{data:x,options:p},JSON.stringify(x)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Total Bond Over Time",trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return g(e)},children:(0,Ze.jsxs)("div",{className:"overview-item",onClick:m,style:{cursor:"pointer"},children:[(0,Ze.jsx)("img",{alt:"#",src:ye.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"TOTAL BOND OVER TIME"}),(0,Ze.jsx)("div",{className:"overview-item__value-value",children:"CLICK HERE"})]})]})})]})},Ie=function(e){var t,a,s,i,n,r,o,l=e.globalData;return(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:he.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"PRICE"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["$",null===l||void 0===l||null===(t=l.coingecko)||void 0===t||null===(a=t.current_price)||void 0===a?void 0:a.toLocaleString()]})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:ne.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"24 HR HIGH"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["$",null===l||void 0===l||null===(s=l.coingecko)||void 0===s?void 0:s.high_24h]})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:re.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"24 HR LOW"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["$",null===l||void 0===l||null===(i=l.coingecko)||void 0===i?void 0:i.low_24h]})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:de.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"MARKET CAP RANK"}),(0,Ze.jsx)("div",{className:"overview-item__value-value",children:null===l||void 0===l||null===(n=l.coingecko)||void 0===n?void 0:n.market_cap_rank})]})]}),(0,Ze.jsxs)("div",{className:"overview-item",children:[(0,Ze.jsx)("img",{alt:"#",src:ve.Z,className:"overview-item__icon"}),(0,Ze.jsxs)("div",{className:"overview-item__value",children:[(0,Ze.jsx)("div",{className:"overview-item__value-title",children:"TOTAL SUPPLY"}),(0,Ze.jsxs)("div",{className:"overview-item__value-value",children:["\u16b1",null===l||void 0===l||null===(r=l.coingecko)||void 0===r||null===(o=r.total_supply)||void 0===o?void 0:o.toLocaleString()]})]})]})]})},Ve=function(e){var t=e.isp,a={width:25,height:25};return"Amazon.com, Inc."===t||"Amazon Technologies Inc."===t||"Amazon.com"===t?(0,Ze.jsx)("img",{alt:"#",src:M,style:a}):"DigitalOcean, LLC"===t||"DigitalOcean"===t?(0,Ze.jsx)("img",{alt:"#",src:O,style:a}):"Google LLC"===t?(0,Ze.jsx)("img",{alt:"#",src:T,style:a}):"Microsoft Corporation"===t?(0,Ze.jsx)("img",{alt:"#",src:R,style:a}):"Hetzner Online GmbH"===t?(0,Ze.jsx)("img",{alt:"#",src:P,style:a}):"The Constant Company"===t||"The Constant Company, LLC"===t?(0,Ze.jsx)("img",{alt:"#",src:F,style:a}):"Leaseweb UK Limited"===t||"Leaseweb USA, Inc."===t?(0,Ze.jsx)("img",{alt:"#",src:I,style:a}):"Datacamp Limited"===t?(0,Ze.jsx)("img",{alt:"#",src:V,style:a}):"Comcast Cable Communications, LLC"===t?(0,Ze.jsx)("img",{alt:"#",src:E,style:a}):"Choopa"===t?(0,Ze.jsx)("img",{alt:"#",src:U,style:a}):"Charter Communications Inc"===t?(0,Ze.jsx)("img",{alt:"#",src:W,style:a}):"AT&T Services, Inc."===t?(0,Ze.jsx)("img",{alt:"#",src:z,style:a}):"Zenlayer Inc"===t?(0,Ze.jsx)("img",{alt:"#",src:J,style:a}):"Aljeel Aljadeed For Technology"===t?(0,Ze.jsx)("img",{alt:"#",src:q,style:a}):"Hostinger International Limited"===t?(0,Ze.jsx)("img",{alt:"#",src:Y,style:a}):"-"},Ee=function(e){var t=e.chain,a=e.obchains,s=e.maxChainHeights,i=a[t]-s[t];return(0,Ze.jsx)("td",{style:{textAlign:"center",color:i<-5||isNaN(i)?"red":null},children:0===i?"OK":i.toString()})},Ue=function(e){var t=e.data,a=t.map((function(e){return parseInt(e.bond)})).reduce((function(e,t){return e+t}),0);return t.map((function(e,t){return(0,Ze.jsxs)("div",{style:{width:200,display:"flex",justifyContent:"space-between"},children:[(0,Ze.jsx)("span",{children:e.bond_address.substring(e.bond_address.length-4,e.bond_address.length)}),(0,Ze.jsxs)("span",{children:[(e.bond/a*100).toFixed(2),"%"]}),(0,Ze.jsxs)("span",{children:["\u16b1",parseInt((e.bond/1e8).toFixed()).toLocaleString()]})]},t)}))},We=function(e){for(var t=e.handlePopoverVisibility,a=e.nodeData,s=e.clickSortHeader,i=e.handleClickBond,n=e.handleClickRewards,r=e.handleClickSlashes,o=e.sortColour,l=e.maxChainHeights,c=e.chains,d=e.addToFav,h=e.whichHeart,u=e.chartDataConfig,p=e.bondOptions,g=e.rewardsOptions,f=e.slashesOptions,j=e.maxPositionOptions,b=e.maxPositionChartDataConfig,k=e.handleNodePosition,N=e.visibleColumns,B=void 0===N?(0,x.Z)({},Je):N,H=e.sortBy,L=void 0===H?"":H,O=e.sortDirection,M=void 0===O?"":O,T=(0,y.useState)(1),R=(0,m.Z)(T,2),P=R[0],F=R[1],I=(0,y.useState)(100),V=(0,m.Z)(I,2),E=V[0],U=V[1],W=Math.ceil(a.length/E),z=[],J=1;J<=W;J++)z.push(J);var q=function(e){F(Number(e.target.id))},Y=z.map((function(e){return(0,Ze.jsx)("li",{id:e,onClick:q,className:"paging-item ".concat(P===e?"active":null),children:e},e)})),ae=P*E,ie=ae-E,ne=a.slice(ie,ae),re=function(e){return B&&B[e]?"tableHeader":"tableHeader hidden"},oe=function(e){return B&&B[e]?"":"hidden"};return(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"item-to-show",children:[(0,Ze.jsx)("span",{children:"Nodes per page:"}),(0,Ze.jsx)(v.Z,{defaultValue:E,showSearch:!1,onChange:function(e){U(e)},style:{width:80,borderRadius:10},dropdownMatchSelectWidth:!1,options:[{value:"10",label:"10"},{value:"25",label:"25"},{value:"50",label:"50"},{value:"100",label:"100"}]})]}),(0,Ze.jsxs)("div",{className:"data-table-wrapper",children:[(0,Ze.jsx)("div",{style:{width:"100%"},children:(0,Ze.jsxs)("table",{style:{borderWidth:1.1,borderColor:"rgba(0,0,0,1)",width:"100%"},children:[(0,Ze.jsx)("thead",{children:(0,Ze.jsxs)("tr",{style:{borderStyle:"solid",borderWidth:1.1,borderColor:"rgba(0,0,0,1)",color:"black",textAlign:"center",marginRight:10},children:[(0,Ze.jsx)("th",{style:{backgroundColor:"rgba(24, 34, 51, 0.4)"}}),(0,Ze.jsx)("th",{className:re("nodes"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("node_address"),textAlign:"center",minWidth:100}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("node_address")},children:["Validator Nodes",(0,Ze.jsx)(Re,{column:"node_address",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("age"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("age"),textAlign:"center",minWidth:90}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("age")},children:["Age",(0,Ze.jsx)(Re,{column:"age",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("action"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("action"),textAlign:"center",minWidth:100}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("action")},children:["Action",(0,Ze.jsx)(Re,{column:"action",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("isp"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("isp"),textAlign:"center",minWidth:50}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("isp")},children:["ISP",(0,Ze.jsx)(Re,{column:"isp",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("location"),textAlign:"center",minWidth:100}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("location")},children:["Location",(0,Ze.jsx)(Re,{column:"location",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("bond"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("bond"),minWidth:75}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("bond")},children:["Bond",(0,Ze.jsx)(Re,{column:"bond",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("providers"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("bond_providers"),textAlign:"center"}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("bond_providers")},children:["Providers",(0,Ze.jsx)(Re,{column:"bond_providers",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("rewards"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("current_award"),textAlign:"center"}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("current_award")},children:["Rewards",(0,Ze.jsx)(Re,{column:"current_award",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("apy"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("apy")}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("apy")},children:["APY",(0,Ze.jsx)(Re,{column:"apy",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("slashes"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("slash_points"),textAlign:"center"}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("slash_points")},children:["Slashes",(0,Ze.jsx)(Re,{column:"slash_points",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("score"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("score")}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("score")},children:["Score",(0,Ze.jsx)(Re,{column:"score",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("version"),style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("version")}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("version")},children:["Version",(0,Ze.jsx)(Re,{column:"version",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),{},{color:o("leave"),textAlign:"center"}),children:(0,Ze.jsxs)("span",{onClick:function(){return s("leave")},children:[we,(0,Ze.jsx)(Re,{column:"leave",sortBy:L,sortDirection:M})]})}),(0,Ze.jsx)("th",{className:re("rpc"),style:(0,x.Z)((0,x.Z)({},Ae),{},{textAlign:"center"}),children:"RPC"}),(0,Ze.jsx)("th",{className:re("bfr"),style:(0,x.Z)((0,x.Z)({},Ae),{},{textAlign:"center"}),children:"BFR"}),c&&(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:K,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:G,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:X,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:$,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:Q,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:ee,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:te,style:{width:25,height:25,display:"block",margin:"auto"}})}),(0,Ze.jsx)("th",{className:"tableHeader",style:(0,x.Z)((0,x.Z)({},Ae),Le),children:(0,Ze.jsx)("img",{alt:"#",src:se,style:{width:25,height:25,display:"block",margin:"auto"}})})]})]})}),(0,Ze.jsxs)("tbody",{children:[ne.map((function(e,a){var s,o,v,m,y,N,D;return(0,Ze.jsxs)("tr",{style:(0,x.Z)({},He),children:[(0,Ze.jsx)("td",{style:{backgroundColor:"rgba(24, 34, 51, 0.4)",minWidth:35,width:50,paddingLeft:5},children:a+1}),(0,Ze.jsxs)("td",{className:oe("nodes"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center",minWidth:250,maxWidth:300}),children:[(0,Ze.jsx)(C.Z,{content:e.node_address,title:"Thornode Address",trigger:"hover",children:(0,Ze.jsx)("span",{style:{cursor:"pointer"},className:"nodeaddress",onClick:function(){return Oe("Node address copied to clipboard:",e.node_address)},children:"...".concat(e.node_address.substring(e.node_address.length-4))})}),(0,Ze.jsx)(C.Z,{content:(null===b||void 0===b||null===(s=b.datasets)||void 0===s?void 0:s.length)>0?(0,Ze.jsx)(w.Z,{data:b,options:j},JSON.stringify(b)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Performance Over Time for ".concat(e.node_address.slice(-4)),trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return t(e)},children:(0,Ze.jsx)("span",{className:"icon-wrapper",children:(0,Ze.jsx)(_.Z,{style:{stroke:"currentColor"},onClick:function(){return k(e.node_address)}})})}),(0,Ze.jsx)(Pe,{address:e.node_address,ip_address:e.ip_address,addToFav:d,whichHeart:h})]}),(0,Ze.jsx)("td",{className:oe("age"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:e.age.toFixed(2)}),(0,Ze.jsx)("td",{className:oe("action"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center",fontSize:12}),children:e.action}),(0,Ze.jsx)("td",{className:oe("isp"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:(0,Ze.jsx)(C.Z,{content:e.isp,title:"Provider",trigger:"hover",children:(0,Ze.jsx)("span",{style:{cursor:"pointer"},children:(0,Ze.jsx)(Ve,{isp:e.isp})})})}),(0,Ze.jsx)("td",{style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center",fontSize:12}),children:e.location}),(0,Ze.jsx)("td",{className:oe("bond"),style:{tdStyle:Be,textAlign:"center"},onClick:function(){return i(e.node_address)},children:(0,Ze.jsx)(C.Z,{content:null!==u&&void 0!==u&&null!==(o=u.datasets)&&void 0!==o&&null!==(v=o[0])&&void 0!==v&&v.data&&u.datasets[0].data.length>0?(0,Ze.jsx)(Z.Z,{data:u,options:p},JSON.stringify(u)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Bond Value Over Time for ".concat(e.node_address.slice(-4)),trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return t(e)},children:(0,Ze.jsxs)("span",{style:{display:"inline-flex",color:"#1890ff",cursor:"pointer"},children:[(0,Ze.jsx)(S.Z,{style:{marginRight:4}}),"\u16b1",parseInt((e.bond/1e8).toFixed()).toLocaleString()]})})}),(0,Ze.jsxs)("td",{className:oe("providers"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:[" ",(0,Ze.jsx)(C.Z,{content:(0,Ze.jsx)(Ue,{data:e.bond_providers.providers}),title:"Bond Providers",trigger:"hover",children:(0,Ze.jsx)("span",{style:{cursor:"pointer"},children:e.bond_providers.providers.length})})]}),(0,Ze.jsx)("td",{className:oe("rewards"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),onClick:function(){return n(e.node_address)},children:(0,Ze.jsx)(C.Z,{content:null!==u&&void 0!==u&&null!==(m=u.datasets)&&void 0!==m&&null!==(y=m[0])&&void 0!==y&&y.data&&u.datasets[0].data.length>0?(0,Ze.jsx)(Z.Z,{data:u,options:g},JSON.stringify(u)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Rewards Over Time for ".concat(e.node_address.slice(-4)),trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return t(e)},children:(0,Ze.jsxs)("span",{style:{display:"inline-flex",color:"#1890ff",cursor:"pointer"},children:[(0,Ze.jsx)(S.Z,{style:{marginRight:4}}),"\u16b1",parseInt((e.current_award/1e8).toFixed()).toLocaleString()]})})}),(0,Ze.jsx)("td",{className:oe("apy"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:e.apy}),(0,Ze.jsx)("td",{className:oe("slashes"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),onClick:function(){return r(e.node_address)},children:(0,Ze.jsx)(C.Z,{content:null!==u&&void 0!==u&&null!==(N=u.datasets)&&void 0!==N&&null!==(D=N[0])&&void 0!==D&&D.data&&u.datasets[0].data.length>0?(0,Ze.jsx)(Z.Z,{data:u,options:f},JSON.stringify(u)):(0,Ze.jsx)("div",{children:"No data available"}),title:"Slashes Over Time for ".concat(e.node_address.slice(-4)),trigger:"click",overlayClassName:"my-custom-popover",onVisibleChange:function(e){return t(e)},children:(0,Ze.jsxs)("span",{style:{display:"inline-flex",color:"#1890ff",cursor:"pointer"},children:[(0,Ze.jsx)(S.Z,{style:{marginRight:4}}),parseInt(e.slash_points).toLocaleString()]})})}),(0,Ze.jsx)("td",{className:oe("score"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:e.score}),(0,Ze.jsx)("td",{className:oe("version"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:e.version}),(0,Ze.jsx)("td",{style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:1===e.forced_to_leave||1===e.requested_to_leave?"yes":"-"}),(0,Ze.jsx)("td",{className:oe("rpc"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:(0,Ze.jsx)("a",{style:{color:"rgba(0,0,0,0.85)"},href:"http://".concat(e.ip_address,":27147/health?"),target:"_blank",rel:"noopener noreferrer",children:"null"!==e.rpc?"*":"Bad"})}),(0,Ze.jsx)("td",{className:oe("bfr"),style:(0,x.Z)((0,x.Z)({},Be),{},{textAlign:"center"}),children:(0,Ze.jsx)("a",{style:{color:"rgba(0,0,0,0.85)"},href:"http://".concat(e.ip_address,":6040/p2pid"),target:"_blank",rel:"noopener noreferrer",children:"null"!==e.bifrost?"*":"Bad"})}),c&&(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsx)(Ee,{chain:"BNB",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"BTC",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"ETH",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"LTC",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"BCH",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"DOGE",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"GAIA",obchains:e.obchains,maxChainHeights:l}),(0,Ze.jsx)(Ee,{chain:"AVAX",obchains:e.obchains,maxChainHeights:l})]})]},a)})),(0,Ze.jsx)("tr",{children:(0,Ze.jsx)("td",{})})]})]})}),(0,Ze.jsx)("div",{className:"paging-wrapper",children:(0,Ze.jsxs)("ul",{className:"page-numbers",children:[(0,Ze.jsx)("li",{onClick:function(){F((function(e){return 1===e?e:e-1}))},className:"nav-button nav-button--prev ".concat(1===P?"disabled":null),children:(0,Ze.jsx)(D.Z,{})}),Y,(0,Ze.jsx)("li",{onClick:function(){F((function(e){return e===W?e:e+1}))},className:"nav-button nav-button--next ".concat(P===W?"disabled":null),children:(0,Ze.jsx)(A.Z,{})})]})})]})]})},ze=null,Je={nodes:!0,age:!0,action:!0,isp:!0,bond:!0,providers:!0,rewards:!0,apy:!0,slashes:!0,score:!0,version:!0,rpc:!0,bfr:!0},qe=function(e,t,a){(0,h.Z)(v,e);var s=(0,u.Z)(v);function v(e){var t,a,i,n,r;return(0,l.Z)(this,v),(r=s.call(this,e)).handlePopoverVisibility=function(e){r.setState({isPopoverOpen:e})},r.handleNodePosition=function(e){return(t=t||(0,g.Z)((0,p.Z)().mark((function e(t){var a,s,i,n,l,c,d,h;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),a="https://api.liquify.com/thor/api/grabPosition=".concat(t),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:(i=e.sent)&&0!==Object.keys(i).length?(n=Object.entries(i).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Number(s.max)}})),l=Object.entries(i).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Number(s.position)}})),c=[].concat((0,o.Z)(n),(0,o.Z)(l)).map((function(e){return e.x})),d=Math.min.apply(Math,(0,o.Z)(c)),h=Math.max.apply(Math,(0,o.Z)(c)),r.setState({maxData:n,positionData:l,minX:d,maxX:h})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(a,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},r.handleClickSlashes=function(e){return(a=a||(0,g.Z)((0,p.Z)().mark((function e(t){var a,s,i,n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),a="https://api.liquify.com/thor/api/grabSlashes=".concat(t),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:(i=e.sent)&&0!==Object.keys(i).length?(n=Object.entries(i).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Number(s)}})),r.setState({chartData:n})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(a,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},r.handleMaxEffectiveStake=(0,g.Z)((0,p.Z)().mark((function e(){var t,a,s,i;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),t="https://api.liquify.com/thor/api/maxEffectiveStake",e.prev=2,e.next=5,fetch(t);case 5:return a=e.sent,e.next=8,a.json();case 8:(s=e.sent)&&0!==Object.keys(s).length?(i=Object.entries(s).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Math.round(Number(s)/1e8)}})),r.setState({chartData:i})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(t,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),r.handleClickTotalBond=(0,g.Z)((0,p.Z)().mark((function e(){var t,a,s,i;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),t="https://api.liquify.com/thor/api/totalBond",e.prev=2,e.next=5,fetch(t);case 5:return a=e.sent,e.next=8,a.json();case 8:(s=e.sent)&&0!==Object.keys(s).length?(i=Object.entries(s).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Math.round(Number(s)/1e8)}})),r.setState({chartData:i})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(t,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),r.handleClickRewards=function(e){return(i=i||(0,g.Z)((0,p.Z)().mark((function e(t){var a,s,i,n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),a="https://api.liquify.com/thor/api/grabRewards=".concat(t),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:(i=e.sent)&&0!==Object.keys(i).length?(n=Object.entries(i).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Math.round(Number(s)/1e8)}})),r.setState({chartData:n})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(a,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},r.handleClickBond=function(e){return(n=n||(0,g.Z)((0,p.Z)().mark((function e(t){var a,s,i,n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isPopoverOpen:!0}),a="https://api.liquify.com/thor/api/grabBond=".concat(t),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:(i=e.sent)&&0!==Object.keys(i).length?(n=Object.entries(i).map((function(e){var t=(0,m.Z)(e,2),a=t[0],s=t[1];return{x:Number(a),y:Math.round(Number(s)/1e8)}})),r.setState({chartData:n})):r.setState({chartData:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error fetching data from ".concat(a,":"),e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},r.state={isPopoverOpen:!1,chartData:[],data:[],globalData:[],sortBy:"bond",sortDirection:"desc",activeNodes:[],standByNodes:[],whitelistedNodes:[],animateBlockCount:!1,myFavNodes:[],searchTerm:"",visibleColumns:Je,nodesFilter:{},loading:!0,minX:null,maxX:null},r.clickSortHeader=r.clickSortHeader.bind((0,d.Z)(r)),r.handleClickRewards=r.handleClickRewards.bind((0,d.Z)(r)),r.handleClickSlashes=r.handleClickSlashes.bind((0,d.Z)(r)),r.handleClickBond=r.handleClickBond.bind((0,d.Z)(r)),r.handleClickTotalBond=r.handleClickTotalBond.bind((0,d.Z)(r)),r.handleNodePosition=r.handleNodePosition.bind((0,d.Z)(r)),r}return(0,c.Z)(v,[{key:"componentWillMount",value:function(){return(t=t||(0,g.Z)((0,p.Z)().mark((function e(){var t,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,k.ej)("myFavNodes"),a=t.length>0?JSON.parse(t):[],this.setState({myFavNodes:a}),this.refreshData();case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"refreshData",value:function(){return(a=a||(0,g.Z)((0,p.Z)().mark((function e(){var t,a=this;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isPopoverOpen){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,k.Yu)();case 4:t=e.sent,this.state.loading&&this.setState({loading:!1}),this.setState({data:t.data,globalData:t.globalData,maxChainHeights:t.maxChainHeights,animateBlockCount:!1},(function(){return a.setData()}));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"componentDidMount",value:function(){var e=this;ze=setInterval((function(){e.setState({animateBlockCount:!1},(function(){return e.refreshData()}))}),6e3)}},{key:"componentWillUnmount",value:function(){clearInterval(ze)}},{key:"addToFav",value:function(e){var t=this,a=(0,k.ej)("myFavNodes");if(0===a.length){var s=JSON.stringify([e]);(0,k.d8)("myFavNodes",s),this.setState({myFavNodes:s},(function(){return t.setData()}))}else{var i=JSON.parse(a);if(i.indexOf(e)>-1){var n=i.filter((function(t){return t!==e})),r=JSON.stringify(n);this.setState({myFavNodes:n},(function(){return t.setData()})),(0,k.d8)("myFavNodes",r)}else{i[i.length]=e;var o=JSON.stringify(i);this.setState({myFavNodes:i},(function(){return t.setData()})),(0,k.d8)("myFavNodes",o)}}}},{key:"returnSearchedData",value:function(e){var t=this;return""===this.state.searchTerm?e:e.filter((function(e){return e.node_address.includes(t.state.searchTerm)||e.bondProvidersString.includes(t.state.searchTerm)}))}},{key:"setData",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.state.data)).map((function(t){return e.state.myFavNodes.includes(t.node_address)?t.fave=1:t.fave=0,t})),a=t.filter((function(e){return"Active"===e.status})),s=t.filter((function(t){return("Standby"===t.status||"Ready"===t.status)&&t.version===e.state.globalData.maxVersion})),i=[].concat((0,o.Z)(a.map((function(e){return e.node_address}))),(0,o.Z)(s.map((function(e){return e.node_address})))),n=t.filter((function(e){return!i.includes(e.node_address)}));a=this.findChurnOuts(a),s=this.findChurnIns(s),a=this.returnSearchedData(a),s=this.returnSearchedData(s),n=this.returnSearchedData(n);var r=this.sortData(a),l=r.filter((function(e){return 1===e.fave}));r=r.filter((function(e){return 0===e.fave})),r=[].concat((0,o.Z)(l),(0,o.Z)(r));var c=this.sortData(s),d=this.sortData(n);this.setState({activeNodes:r,standByNodes:c,whitelistedNodes:d})}},{key:"onColumnUpdate",value:function(e){this.setState({visibleColumns:e})}},{key:"onNodesFilter",value:function(e){this.setState((function(t){return{nodesFilter:(0,x.Z)((0,x.Z)({},t.nodesFilter),{},(0,f.Z)({},e,!t.nodesFilter[e]))}}))}},{key:"findChurnIns",value:function(e){if(0===e.length)return[];var t=e.filter((function(e){return e.bond>=3e13})),a=this.sortData(t,"bond","desc");a.length>0&&(a[Math.min(0,a.length-1)].action="Churn In",a[Math.min(1,a.length-1)].action="Churn In",a[Math.min(2,a.length-1)].action="Churn In",a[Math.min(3,a.length-1)].action="Churn In",a[Math.min(4,a.length-1)].action="Churn In");var s=e.filter((function(e){return e.bond<3e13}));return[].concat((0,o.Z)(a),(0,o.Z)(s))}},{key:"findChurnOuts",value:function(e){if(0===e.length)return[];var t=this.sortData(e,"age","desc");return t[0].action="Oldest",(t=this.sortData(e,"bond","asc"))[0].action="Smallest Bond",t=this.sortData(e,"score","asc",!0),this.calcBadValidatorRedline(e),t}},{key:"calcBadValidatorRedline",value:function(e){var t=e.filter((function(e){return e.slash_points>100})),a=t.reduce((function(e,t){return e+parseFloat(t.score)}),0)/(t.length+1)/this.state.globalData.BadValidatorRedline;e.map((function(e){return e.score<a&&(e.action="Bad Redline"),0}))}},{key:"sortData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null===t?this.state.sortBy:t,n=[];if(["node","isp","location","version","action","node_address"].includes(i))n=e.sort((function(e,t){return e[i].localeCompare(t[i])}));else if("bond_providers"===i)n=e.sort((function(e,t){return e[i].providers.length-t[i].providers.length}));else if(!0===s){var r=e.filter((function(e){return parseFloat(e.age)>3})),l=e.filter((function(e){return parseFloat(e.age)<=3})),c=r.sort((function(e,t){return t[i]-e[i]}));c[c.length-1].action="Worst Performing",n=[].concat((0,o.Z)(c),(0,o.Z)(l))}else n=e.sort((function(e,t){return e[i]===t[i]?e.node_address.localeCompare(t.node_address):e[i]>t[i]?1:-1}));return"desc"===(null===a?this.state.sortDirection:a)&&n.reverse(),n}},{key:"clickSortHeader",value:function(e){var t=this,a=this.state.sortBy!==e?"desc":"desc"===this.state.sortDirection?"asc":"desc";this.setState({sortBy:e,sortDirection:a},(function(){return t.setData()}))}},{key:"sortColour",value:function(e){return"#ffffff"}},{key:"whichHeart",value:function(e){return this.state.myFavNodes.includes(e)?L:H}},{key:"searchBar",value:function(){var e=this;return(0,Ze.jsx)("div",{className:"search-input",children:(0,Ze.jsx)(r.Z,{style:{width:500,height:46,borderRadius:6,background:"#fff"},onChange:function(t){return e.setState({searchTerm:t.target.value.trim().toLowerCase()},(function(){return e.setData()}))},prefix:(0,Ze.jsx)(B.Z,{})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,s=t.nodesFilter,r=t.visibleColumns,l=t.standByNodes,c=this.state.chartData?{datasets:[{label:"Value",data:this.state.chartData,fill:!1,backgroundColor:"rgb(28, 57, 182)",borderColor:"rgba(28, 57, 187, 0.2)",tension:0}]}:{},d=this.state.maxData&&this.state.positionData?{datasets:[{label:"Max",data:this.state.maxData,backgroundColor:"blue",pointRadius:5},{label:"Position",data:this.state.positionData,backgroundColor:"orange",pointRadius:5}]}:{},h=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{autoSkip:!0,maxTicksLimit:10,min:Math.min.apply(Math,(0,o.Z)(this.state.chartData.map((function(e){return e.x})))),max:Math.max.apply(Math,(0,o.Z)(this.state.chartData.map((function(e){return e.x})))),stepSize:2e4,callback:function(e){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Max Effective Stake (\u16b1)"}}]}}:{},u=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{autoSkip:!0,maxTicksLimit:10,min:Math.min.apply(Math,(0,o.Z)(this.state.chartData.map((function(e){return e.x})))),max:Math.max.apply(Math,(0,o.Z)(this.state.chartData.map((function(e){return e.x})))),stepSize:2e4,callback:function(e){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Total Bond Amount (\u16b1)"}}]}}:{},v=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{autoSkip:!0,maxTicksLimit:10,min:this.state.minX,max:this.state.maxX,stepSize:2e4,callback:function(e){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Position"},ticks:{min:0,max:100}}]}}:{},m=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{callback:function(e,t,a){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Slashes Value"}}]}}:{},x=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{callback:function(e,t,a){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Reward Amount (\u16b1)"}}]}}:{},p=this.state.chartData?{scales:{xAxes:[{type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:"Block Height"},ticks:{autoSkip:!0,maxTicksLimit:10,min:Math.min.apply(Math,(0,o.Z)(this.state.chartData.map((function(e){return e.x})))),stepSize:2e4,callback:function(e,t,a){return e}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Bond Amount (\u16b1)"}}]}}:{};return(0,Ze.jsxs)(j.Z,{children:[(0,Ze.jsxs)(_e,{style:{color:"white",fontSize:25,fontWeight:700,minWidth:1580,height:110,display:"flex",alignItems:"center"},children:[(0,Ze.jsxs)("div",{className:"header-left",children:[(0,Ze.jsx)("img",{alt:"#",src:ae.Z,style:{width:55,height:55,margin:"auto 22px auto 0"}}),(0,Ze.jsx)("span",{children:"Thornode Monitor"})]}),(0,Ze.jsxs)("div",{className:"header-right",children:[(0,Ze.jsx)("div",{className:"active-node ".concat(s.active?"active-node--active":null),onClick:function(){return e.onNodesFilter("active")},children:(0,Ze.jsx)("img",{src:be.Z})}),(0,Ze.jsx)("div",{className:"active-node ".concat(s.standby?"active-node--active":null),onClick:function(){return e.onNodesFilter("standby")},children:(0,Ze.jsx)("img",{src:je.Z})}),(0,Ze.jsx)("div",{className:"active-node ".concat(s.orthers?"active-node--active":null),onClick:function(){return e.onNodesFilter("orthers")},children:(0,Ze.jsx)("img",{src:fe.Z})})]})]}),(0,Ze.jsxs)(De,{style:{padding:40,backgroundColor:"white"},children:[a&&(0,Ze.jsx)("div",{className:"loading",children:(0,Ze.jsx)("img",{src:me,className:"loading_icon"})}),!a&&(0,Ze.jsxs)("div",{className:"layout-content-wrapper",children:[(0,Ze.jsxs)(n.Z,{separator:(0,Ze.jsx)(A.Z,{}),children:[(0,Ze.jsx)(n.Z.Item,{href:"/",children:"Dashboard"}),(0,Ze.jsx)(n.Z.Item,{className:"current",children:"Standby Nodes"})]}),(0,Ze.jsx)("div",{className:"overview-list-wrapper",children:(0,Ze.jsxs)("div",{className:"overview-list",children:[(0,Ze.jsx)(Fe,{state:this.state,globalData:this.state.globalData,animateBlockCount:this.state.animateBlockCount,handleClickTotalBond:this.handleClickTotalBond,chartDataConfig:c,totalBondOptions:u,maxStakeOptions:h,handlePopoverVisibility:this.handlePopoverVisibility,handleMaxEffectiveStake:this.handleMaxEffectiveStake}),(0,Ze.jsx)(Ie,{globalData:this.state.globalData})]})}),(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"cta-wrapper",children:[(0,Ze.jsx)("div",{className:"cta-link",children:(0,Ze.jsx)(i.Z,{type:"primary",className:"uppercase",children:"Standby Nodes"})}),this.searchBar(),(0,Ze.jsx)(Ce.Z,{initialConfig:r,onConfigUpdate:this.onColumnUpdate.bind(this)})]}),l.length>0&&(0,Ze.jsx)(We,{visibleColumns:r,whichHeart:this.whichHeart.bind(this),addToFav:this.addToFav.bind(this),nodeData:l,clickSortHeader:this.clickSortHeader.bind(this),handleClickBond:this.handleClickBond,handleClickRewards:this.handleClickRewards,handleClickSlashes:this.handleClickSlashes,sortColour:this.sortColour.bind(this),maxChainHeights:this.state.maxChainHeights,chains:!1,sortBy:this.state.sortBy,sortDirection:this.state.sortDirection,chartDataConfig:c,bondOptions:p,rewardsOptions:x,slashesOptions:m,handlePopoverVisibility:this.handlePopoverVisibility,handleNodePosition:this.handleNodePosition,maxPositionChartDataConfig:d,maxPositionOptions:v}),0===l.length&&(0,Ze.jsx)("div",{className:"no-data",children:(0,Ze.jsx)("div",{className:"no-data__content",children:"No Standby Data Available!"})})]})]})]}),(0,Ze.jsxs)(Se,{children:[(0,Ze.jsx)("a",{href:"https://github.com/liquify-validation",target:"_blank",className:"link",children:(0,Ze.jsx)("img",{alt:"#",src:xe.Z,className:"overview-item__icon"})}),(0,Ze.jsx)("a",{href:"https://twitter.com/Liquify_ltd",target:"_blank",className:"link",children:(0,Ze.jsx)("img",{alt:"#",src:pe.Z,className:"overview-item__icon"})}),(0,Ze.jsxs)("div",{className:"logo-wrapper",children:[(0,Ze.jsx)("span",{children:"Built by:"}),(0,Ze.jsx)("img",{alt:"#",src:ge.Z,className:"overview-item__icon"})]})]})]})}}]),v}(y.Component)}}]);
//# sourceMappingURL=627.70e22e1d.chunk.js.map